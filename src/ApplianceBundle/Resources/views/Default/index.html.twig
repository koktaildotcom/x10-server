{% extends 'base.html.twig' %}

{% form_theme form _self %}

{%- block checkbox_widget -%}
    <label class="switch">
        <input type="checkbox" {{ block('widget_attributes') }}{% if value is defined %} value="{{ value }}"{% endif %}{% if checked %} checked="checked"{% endif %} />
        <div class="slider round"></div>
    </label>
{%- endblock checkbox_widget -%}

{% block body %}

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script>
        $(document).ready(function(){
            $('body').find('form').change(function(){
                console.log('submit');
                $(this).submit();
            });
        });
    </script>

    {{ form(form) }}

{% endblock %}